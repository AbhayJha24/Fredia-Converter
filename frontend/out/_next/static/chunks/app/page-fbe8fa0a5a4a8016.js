(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1044:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>p});var n=t(5155),a=t(5717),o=t.n(a),s=t(2115);let l=(0,s.createContext)(o()),r=(0,s.createContext)("light"),d=JSON.parse('{"iP":{"image/jpeg":"jpg","image/png":"png","image/gif":"gif","image/bmp":"bmp","image/webp":"webp","audio/mpeg":"mp3","audio/wav":"wav","audio/aac":"aac","audio/flac":"flac","video/mp4":"mp4","video/x-msvideo":"avi","video/x-matroska":"mkv","video/quicktime":"mov"},"VL":{"zC":["image/jpeg","image/png","image/bmp","image/webp"],"z7":["audio/mpeg","audio/wav","audio/aac","audio/flac"],"Ki":["video/mp4","image/gif","video/x-msvideo","video/x-matroska","video/quicktime"]},"SC":["image/jpeg","image/png","image/gif","image/bmp","image/webp","audio/mpeg","audio/wav","audio/aac","audio/flac","video/mp4","video/x-msvideo","video/x-matroska","video/quicktime"]}'),c=function(e){let{setFiles:i}=e,t=(0,s.useContext)(l),a=(0,s.useContext)(r),o=(0,s.useRef)(null),[c,f]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e,t,n;null==(e=o.current)||e.addEventListener("dragover",e=>{e.preventDefault(),f(!0)}),null==(t=o.current)||t.addEventListener("dragleave",e=>{e.preventDefault(),f(!1)}),null==(n=o.current)||n.addEventListener("drop",e=>{var t;e.preventDefault(),f(!1);let n=null==(t=e.dataTransfer)?void 0:t.files;if(n&&n.length>0){let e=[];for(let e=0;e<n.length;e++)if(!d.SC.find(e=>n[0].type===e)){console.warn("File ".concat(n[e].name," is not a supported file type.")),alert("File ".concat(n[e].name," is not a supported file type."));return}for(let i=0;i<n.length;i++){let t={index:function(e){let i=new Uint32Array(1);return e.crypto.getRandomValues(i),i[0]}(window),file:n[i],fileName:n[i].name,fileSize:n[i].size<1024?"".concat(n[i].size," B"):n[i].size<1048576?"".concat((n[i].size/1024).toFixed(2)," KB"):"".concat((n[i].size/1048576).toFixed(2)," MB"),fileType:n[i].type,converted:"not converted",toType:void 0,path:window.nodeAPI.getFilePath(n[i]),destination:"",progress:0};e.push(t)}i(i=>[...i,...e])}})},[]),(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:c?t.addFileContainerDrag:t.addFileContainer,ref:o,children:[(0,n.jsx)("h1",{className:t.addFileHeading,children:"Add Media"}),(0,n.jsx)("div",{className:t.addFileBox,children:(0,n.jsxs)("svg",{width:"80px",height:"80px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M18.5 20L18.5 14M18.5 14L21 16.5M18.5 14L16 16.5",stroke:"dark"===a?"#ffffff":"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M12 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H9.58579C9.851 5 10.1054 5.10536 10.2929 5.29289L12 7H19C20.1046 7 21 7.89543 21 9V11",stroke:"dark"===a?"#ffffff":"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,n.jsx)("p",{className:t.addFileText,children:"Drag and Drop any media file here"})]})})};function f(e){let{filesControls:i}=e,t=(0,s.useContext)(l),a=(0,s.useContext)(r);function o(e,t){i.setFiles(i=>i.map(i=>i.index===e?{...i,progress:t}:i))}async function c(e,t){e.preventDefault();let n=await window.nodeAPI.chooseFolder();i.setFiles(e=>e.map(e=>e.index===t?{...e,destination:null!=n?n:""}:e))}async function f(e,t,n){let a;if(""===e.destination)return alert("Please specify a destination directory for the converted file."),!1;if(void 0===e.toType)return alert("Please select a file type to convert to."),!1;n.currentTarget.disabled=!0;try{i.setFiles(i=>i.map(i=>i.index===e.index?{...i,converted:"converting"}:i));let t=e.fileName.substring(0,e.fileName.lastIndexOf("."));a=await window.nodeAPI.convertFile(e.path,t,e.destination,d.iP[e.toType],e.index)}catch(t){return console.error("Error during conversion:",t),i.setFiles(i=>i.map(i=>i.index===e.index?{...i,converted:"error"}:i)),!1}a?(i.setFiles(i=>i.map(i=>i.index===e.index?{...i,converted:"converted"}:i)),o(e.index,100)):i.setFiles(i=>i.map(i=>i.index===e.index?{...i,converted:"error"}:i))}return(0,s.useEffect)(()=>{window.nodeAPI.onUpdateProgress((e,i)=>{let{progress:t,idx:n}=i;o(n,t)})},[]),(0,n.jsxs)("section",{className:t.filesSection,children:[(0,n.jsxs)("h2",{className:t.filesHeader,children:["Task Area ",0===i.files.length?"(No Tasks)":1===i.files.length?"(".concat(i.files.length," task)"):"(".concat(i.files.length," tasks)")]}),(0,n.jsx)("ul",{className:t.filesList,children:i.files.map((e,s)=>{let l=e.fileName.substring(0,e.fileName.lastIndexOf("."));return(0,n.jsxs)("li",{className:t.fileItem,children:[(0,n.jsx)("span",{className:t.fileName,children:l}),(0,n.jsx)("span",{className:t.fileSize,children:e.fileSize}),(0,n.jsx)("span",{className:t.fileType,children:d.iP[e.fileType]||"Unknown"}),(0,n.jsxs)("span",{className:t.convertTo,children:[(0,n.jsx)("p",{children:"Convert To: "}),(0,n.jsxs)("select",{className:t.convertToSelect,onChange:t=>{let n=t.target.value;""===n?i.setFiles(i=>i.map(i=>i.index===e.index?{...i,toType:void 0}:i)):i.setFiles(i=>i.map(i=>i.index===e.index?{...i,toType:n}:i))},value:e.toType,children:[(0,n.jsx)("option",{value:"",children:"Select file type"}),e.fileType.startsWith("image")&&"image/gif"!==e.fileType?d.VL.zC.filter(i=>i!==e.fileType).map((e,i)=>(0,n.jsx)("option",{value:e,children:d.iP[e]},i)):e.fileType.startsWith("audio")?d.VL.z7.filter(i=>i!==e.fileType).map((e,i)=>(0,n.jsx)("option",{value:e,children:d.iP[e]},i)):e.fileType.startsWith("video")?d.VL.Ki.filter(i=>i!==e.fileType).map((e,i)=>(0,n.jsx)("option",{value:e,children:d.iP[e]},i)):"image/gif"===e.fileType?d.VL.Ki.filter(i=>i!==e.fileType).map((e,i)=>(0,n.jsx)("option",{value:e,children:d.iP[e]},i)):null]})]}),(0,n.jsx)("span",{className:"converted"===e.converted?t.fileConverted:"not converted"===e.converted?t.fileNotConverted:"converting"===e.converted?t.fileConverting:t.fileError,children:"converted"===e.converted?"Converted":"converting"===e.converted?"Converting":"error"===e.converted?"Error":"Not Converted"}),(0,n.jsxs)("span",{className:t.fileDestination,children:[(0,n.jsx)("span",{className:t.fileDestinationText,children:""===e.destination?"Destination not choosen":e.destination}),(0,n.jsx)("button",{type:"button",className:t.chooseDestinationFolderBtn,onClick:i=>c(i,e.index),children:"Choose Destination"})]}),(0,n.jsx)("progress",{id:s.toString(),max:"100",value:e.progress,className:t.progressBar}),(0,n.jsx)("button",{type:"button",className:t.convertButton,onClick:i=>{f(e,o,i)},children:"Convert"}),(0,n.jsx)("span",{children:(0,n.jsx)("svg",{fill:"light"===a?"#000000":"#ffffff",width:"20px",height:"20px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{i.setFiles(i=>i.filter(i=>i.index!==e.index))},className:t.deleteIcon,children:(0,n.jsx)("path",{d:"M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048zM9.76 20.256q0 0.832 0.576 1.408t1.44 0.608 1.408-0.608l2.816-2.816 2.816 2.816q0.576 0.608 1.408 0.608t1.44-0.608 0.576-1.408-0.576-1.408l-2.848-2.848 2.848-2.816q0.576-0.576 0.576-1.408t-0.576-1.408-1.44-0.608-1.408 0.608l-2.816 2.816-2.816-2.816q-0.576-0.608-1.408-0.608t-1.44 0.608-0.576 1.408 0.576 1.408l2.848 2.816-2.848 2.848q-0.576 0.576-0.576 1.408z"})})})]},s)})})]})}function p(){let[e,i]=(0,s.useState)("light"),[t,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{i(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,n.jsx)(l,{value:o(),children:(0,n.jsxs)(r,{value:e,children:[(0,n.jsx)(f,{filesControls:{files:t,setFiles:a}}),(0,n.jsx)("hr",{}),(0,n.jsx)(c,{setFiles:a})]})})}},4375:(e,i,t)=>{Promise.resolve().then(t.bind(t,1044))},5717:e=>{e.exports={addFileContainer:"page_addFileContainer__7P0gP",addFileContainerDrag:"page_addFileContainerDrag__bBcK3",addFileHeading:"page_addFileHeading__DSh8L",addFileText:"page_addFileText___jDc6",filesSection:"page_filesSection__CbOjg",filesHeader:"page_filesHeader__iV4hf",fileItem:"page_fileItem__E2DLu",deleteIcon:"page_deleteIcon__x7huB",convertButton:"page_convertButton__dySDZ",chooseDestinationFolderBtn:"page_chooseDestinationFolderBtn__ZwTmo",fileConverted:"page_fileConverted__waBOK",fileNotConverted:"page_fileNotConverted__SFBq4",fileConverting:"page_fileConverting__TvUT3",fileError:"page_fileError__fglUk",filesList:"page_filesList__HjnIY",fileName:"page_fileName__qMH2l",fileSize:"page_fileSize__vKx6M",fileType:"page_fileType__sGPkL",convertTo:"page_convertTo__9u_Nw",fileDestination:"page_fileDestination__HI38_",fileDestinationText:"page_fileDestinationText__YHf_S",progressBar:"page_progressBar__4Ocww"}}},e=>{e.O(0,[938,441,964,358],()=>e(e.s=4375)),_N_E=e.O()}]);